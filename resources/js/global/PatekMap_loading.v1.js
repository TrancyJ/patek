!function (a) { }(window.Patek = window.Patek || {}), function () { }(window.Patek.MapLoading = window.Patek.MapLoading || {}), $(document).ready(function () { Patek.MapLoading.loadAllScripts = function (callbackName, pageScript) { Patek.GeoLocation.get().then(function (infos) { var baidu = !1; if (infos && infos.Country && (baidu = "CN" == infos.Country.Code || "HK" == infos.Country.Code || "MO" == infos.Country.Code), baidu) { var scriptApi = "https://api.map.baidu.com/api?v=2.0&ak=yke37Lce1nrQ9bn98T2OxDdh8XzlDe0A&s=1&callback=initMap", scriptMap = "/resources/js/global/PatekMap_Baidu.js", scriptAnnexe = "/resources/js/lib/BaiduMapScripts.js"; pageScript += "_Baidu.js", $(".only_google").hide() } else { var scriptApi = "https://maps.googleapis.com/maps/api/js?key=AIzaSyCOtxx2aryRxekR15dij_jsZzbSChJm8u0&callback=initMap", scriptMap = "/resources/js/global/PatekMap_Google.js", scriptAnnexe = "/resources/js/lib/markerclusterer.js"; pageScript += "_Google.js", $(".only_baidu").hide() } window.initMap = function () { Patek.MapLoading.loadScript(scriptMap, function () { Patek.MapLoading.loadScript(pageScript, function () { Patek.MapLoading.loadScript(scriptAnnexe, function () { "undefined" != typeof eval(callbackName) ? eval(callbackName + "()") : setTimeout(function () { eval(callbackName + "()") }, 500) }) }) }) }, Patek.MapLoading.loadScript(scriptApi) })["catch"](function (err) { var scriptApi = "https://maps.googleapis.com/maps/api/js?key=AIzaSyCOtxx2aryRxekR15dij_jsZzbSChJm8u0&callback=initMap", scriptMap = "/resources/js/global/PatekMap_Google.js", scriptAnnexe = "/resources/js/lib/markerclusterer.js"; pageScript += "_Google.js", $(".only_baidu").hide(), window.initMap = function () { Patek.MapLoading.loadScript(scriptMap, function () { Patek.MapLoading.loadScript(pageScript, function () { Patek.MapLoading.loadScript(scriptAnnexe, function () { "undefined" != typeof eval(callbackName) ? eval(callbackName + "()") : setTimeout(function () { eval(callbackName + "()") }, 500) }) }) }) }, Patek.MapLoading.loadScript(scriptApi) }) }, Patek.MapLoading.loadScript = function (a, e) { var i = document.getElementsByTagName("head")[0], t = document.createElement("script"); t.type = "text/javascript", t.src = a, t.onreadystatechange = e, t.onload = e, i.appendChild(t) } });