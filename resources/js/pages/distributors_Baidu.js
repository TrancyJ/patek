!function (t) { }(window.Patek = window.Patek || {}), $(document).ready(function () { Patek.Distributors.resultMsg = "#resultmsg", Patek.Distributors.mapId = "retailers", Patek.Distributors.displayOnMap = function (t, a, e) { Patek.Global.log && console.log("Patek.Distributors.displayOnMap(" + t + ", " + a + ")"), e ? (Patek.Global.showDialog("#mapZoom"), Patek.Map.mapZoom_map.currentLat = $("#agent_" + t).data("latitude"), Patek.Map.mapZoom_map.currentLng = $("#agent_" + t).data("longitude"), setTimeout(function () { Patek.Map.mapZoom_map.currentMap.centerAndZoom(new BMap.Point($("#agent_" + t).data("longitude"), $("#agent_" + t).data("latitude")), 18), Patek.Map.mapZoom_map.currentMarkers[t].info.open(Patek.Map.mapZoom_map.currentMarkers[t]) }, 50)) : (Patek.Global.scrollTo("#" + Patek.Distributors.mapId, -100), Patek.Map.retailers.currentMap.centerAndZoom(new BMap.Point($("#agent_" + t).data("longitude"), $("#agent_" + t).data("latitude")), 18), Patek.Map.retailers.currentLat = $("#agent_" + t).data("latitude"), Patek.Map.retailers.currentLng = $("#agent_" + t).data("longitude"), Patek.Map.retailers.currentMarkers[t].info.open(Patek.Map.mapZoom_map.currentMarkers[t])) } }(window.Patek.Distributors = window.Patek.Distributors || {})), $(document).ready(function () { window.Patek.Distributors.init = function () { var t = [], a = { width: 39, height: 50 }; $(".agent").each(function () { if (-1 != $(this).data("latitude") && -1 != $(this).data("longitude")) { var e = $(this).data("latitude"), i = $(this).data("longitude"), n = !1; -1 != $(this).data("latitudeBaidu") && -1 != $(this).data("longitudeBaidu") && (e = $(this).data("latitudeBaidu"), i = $(this).data("longitudeBaidu"), n = !0); var r = $(this).clone(); $(r).find(".country").insertAfter($(r).find(".bloc_city")); var o = "/resources/png/Distributor_0.png", l = "/resources/png/Distributor_1.png"; t.push({ location: { lat: e, lng: i }, id: $(this).data("agent-id"), isInChina: n, labelClass: "marker_lbl", title: $(r).find(".name").text() + "", icon: { scaledSize: a, url: o }, iconHover: { scaledSize: a, url: l }, value: $(this).data("agent-id") + "", htmlContent: $(r).html() + "<br/>" }) } }), Patek.Map.initMap(document.getElementById("retailers_map"), { lat: 46.818188, lng: 8.22751199999993 }, t, "retailers"), Patek.Map.initMap(document.getElementById("mapZoom_map"), { lat: 46.818188, lng: 8.22751199999993 }, t, "mapZoom_map"), Patek.Map.retailers.currentLat = 46.818188, Patek.Map.retailers.currentLng = 8.22751199999993, Patek.Map.mapZoom_map.currentLat = 46.818188, Patek.Map.mapZoom_map.currentLng = 8.22751199999993, Patek.Map.mapZoom_map.idZoom = "#mapZoom", Patek.Map.retailers.localizeClient() } });